{"version":3,"file":"static/webpack/static/development/pages/compaigns/requests.js.d97f37698d3e18e2175b.hot-update.js","sources":["webpack:///./pages/compaigns/requests/index.js"],"sourcesContent":["import React,{Component} from 'react';\nimport {Button} from 'semantic-ui-react';\nimport {Link} from '../../../routes';\nimport Layout from '../../../components/Layout';\nimport Campaign from '../../../ethereum/campaign';\nimport {Table} from 'semantic-ui-react';\n\nimport RequestRow from '../../../components/RequestRow';\nclass CompaignRequest extends Component{\n\n  static async getInitialProps(props){\n\n    const {address} = props.query;\n\n\n    const campaign = Campaign(address);\n\n    const requestCount = campaign.methods.getRequestCount().call();\n\n    const requests = await Promise.all(\n\n      Array(requestCount).fill().map((element,index)=>{\n\n\n        return campaign.methods.requests(index).call();\n      })\n\n    )\n\n    console.log(requests);\n    return {address,requests};\n  }\n\n\nrenderRow(){\n\n  return  this.props.requests.map((request,index)=>{\n\n      return(\n\n         <RequestRow\n            key={index}\n             id={index}\n            request={request}\n              address={this.props.address}>\n\n        </RequestRow>\n\n\n      );\n\n  });\n\n}\n\n\n  render(){\n\n  // const {HeaderCell,Row,Header} =Table;\n    return(\n   <Layout>\n\n    <h1>\n     请求列表\n     </h1>\n    <Link route={`/compaigns/${this.props.address}/requests/new`}>\n     <Button primary> 增加请求</Button>\n     </Link>\n\n\n   <Table >\n  <Table.Header>\n    <Table.Row>\n      <Table.HeaderCell>ID </Table.HeaderCell>\n      <Table.HeaderCell> 描述</Table.HeaderCell>\n      <Table.HeaderCell>总的金额</Table.HeaderCell>\n        <Table.HeaderCell> 受益人地址</Table.HeaderCell>\n          <Table.HeaderCell>同意的数量</Table.HeaderCell>\n            <Table.HeaderCell>done?</Table.HeaderCell>\n              <Table.HeaderCell>finish?</Table.HeaderCell>\n    </Table.Row>\n  </Table.Header>\n\n   <Table.Body>\n\n{render()}\n    </Table.Body>\n   </Table>\n   </Layout>\n);\n  }\n}\nexport default CompaignRequest;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAAA;;;;;;;;;;;;;AA0BA;AAAA;AACA;AACA;AAEA;AAGA;AACA;AACA;AACA;AAJA;AAWA;AAEA;;;;;;;;;;;;;AAGA;AAEA;AACA;AAMA;AAAA;AACA;AAAA;AAwBA;;;;;;AAhFA;;;;;;AAEA;AAGA;AAEA;;AAEA;AAKA;AACA;AACA;;AAPA;AAUA;AACA;AAAA;AAAA;AAAA;AACA;;;;;;;;;;;;;;;;;;AAvBA;AACA;AAmFA;;;;A","sourceRoot":""}