{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nvar __jsx = React.createElement;\nimport React, { Component } from 'react';\nimport factory from '../ethereum/factory';\nimport Layout from '../components/Layout';\nimport { Card, Button } from 'semantic-ui-react';\nimport { Link } from '../routes'; // export default () =>{\n//\n//   return <h1>hello index! </h1>\n//\n// }\n\nvar Compaindex =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Compaindex, _Component);\n\n  function Compaindex() {\n    _classCallCheck(this, Compaindex);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(Compaindex).apply(this, arguments));\n  }\n\n  _createClass(Compaindex, [{\n    key: \"renderCompaign\",\n    // async componentDidMount(){\n    //\n    //     const compaign =await  factory.methods.getDeployedCampaign().call();\n    //     console.log(compaign);\n    //\n    // }\n    value: function renderCompaign() {\n      var items = this.props.compaign.map(function (address) {\n        return {\n          header: address,\n          description: __jsx(Link, {\n            route: \"/compaigns/\".concat(address)\n          }, \"\\u67E5\\u770B\\u4F17\\u7B79\"),\n          fluid: true\n        };\n      });\n      return __jsx(Card.Group, {\n        items: items\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return __jsx(Layout, null, __jsx(\"div\", null, __jsx(\"h3\", null, \"\\u4F17\\u7B79\\u5217\\u8868\"), __jsx(Link, {\n        href: \"/compaigns/new\"\n      }, __jsx(Button, {\n        floated: \"right\",\n        content: \"\\u521B\\u5EFA\\u4F17\\u7B79\",\n        icon: \"add circle\",\n        labelPosition: \"right\",\n        primary: true\n      })), this.renderCompaign()));\n\n      __jsx(\"div\", null, this.props.compaign[0]);\n    }\n  }], [{\n    key: \"getInitialProps\",\n    value: function () {\n      var _getInitialProps = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        var compaign;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return factory.methods.getDeployedCampaign().call();\n\n              case 2:\n                compaign = _context.sent;\n                return _context.abrupt(\"return\", {\n                  compaign: compaign\n                });\n\n              case 4:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function getInitialProps() {\n        return _getInitialProps.apply(this, arguments);\n      }\n\n      return getInitialProps;\n    }()\n  }]);\n\n  return Compaindex;\n}(Component);\n\nexport default Compaindex;","map":{"version":3,"sources":["/Users/eigen/Desktop/fullstackdapp/pages/index.js"],"names":["React","Component","factory","Layout","Card","Button","Link","Compaindex","items","props","compaign","map","address","header","description","fluid","renderCompaign","methods","getDeployedCampaign","call"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,IAAcC,SAAd,QAA8B,OAA9B;AAEA,OAAOC,OAAP,MAAoB,qBAApB;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,SAAQC,IAAR,EAAaC,MAAb,QAA0B,mBAA1B;AAEA,SAAOC,IAAP,QAAmB,WAAnB,C,CAEA;AACA;AACA;AACA;AACA;;IAGMC,U;;;;;;;;;;;;;AAUH;AACA;AACA;AACA;AACA;AACA;qCAEgB;AAEd,UAAMC,KAAK,GAAG,KAAKC,KAAL,CAAWC,QAAX,CAAoBC,GAApB,CAAwB,UAAAC,OAAO,EAAE;AAE1C,eAAM;AAEJC,UAAAA,MAAM,EAAED,OAFJ;AAIXE,UAAAA,WAAW,EAAE,MAAC,IAAD;AAAM,YAAA,KAAK,uBAAgBF,OAAhB;AAAX,wCAJF;AAKJG,UAAAA,KAAK,EAAC;AALF,SAAN;AAQJ,OAVa,CAAd;AAYI,aAAO,MAAC,IAAD,CAAM,KAAN;AAAY,QAAA,KAAK,EAAEP;AAAnB,QAAP;AACL;;;6BACM;AACL,aACM,MAAC,MAAD,QACH,mBACA,6CADA,EAGC,MAAC,IAAD;AAAO,QAAA,IAAI,EAAC;AAAZ,SACA,MAAC,MAAD;AAAS,QAAA,OAAO,EAAC,OAAjB;AAAyB,QAAA,OAAO,EAAC,0BAAjC;AAAwC,QAAA,IAAI,EAAC,YAA7C;AAA0D,QAAA,aAAa,EAAC,OAAxE;AAAgF,QAAA,OAAO;AAAvF,QADA,CAHD,EAOG,KAAKQ,cAAL,EAPH,CADG,CADN;;AAkBD,yBAAM,KAAKP,KAAL,CAAWC,QAAX,CAAoB,CAApB,CAAN;AACD;;;;;;;;;;;;;uBAjD4BR,OAAO,CAACe,OAAR,CAAgBC,mBAAhB,GAAsCC,IAAtC,E;;;AAAjBT,gBAAAA,Q;iDACA;AAACA,kBAAAA,QAAQ,EAARA;AAAD,iB;;;;;;;;;;;;;;;;;;;EALWT,S;;AAyDzB,eAAeM,UAAf","sourcesContent":["import React,{Component} from 'react';\n\nimport factory from '../ethereum/factory';\nimport Layout from '../components/Layout';\nimport {Card,Button} from 'semantic-ui-react'\n\nimport{Link}  from '../routes';\n\n// export default () =>{\n//\n//   return <h1>hello index! </h1>\n//\n// }\n\n\nclass Compaindex extends Component{\n\n\n  static async getInitialProps(){\n        const compaign =await  factory.methods.getDeployedCampaign().call();\n        return{compaign};\n\n  }\n\n\n   // async componentDidMount(){\n   //\n   //     const compaign =await  factory.methods.getDeployedCampaign().call();\n   //     console.log(compaign);\n   //\n   // }\n\n   renderCompaign(){\n\n     const items = this.props.compaign.map(address=>{\n\n          return{\n\n            header: address,\n\n     description: <Link route={`/compaigns/${address}`}>查看众筹</Link>,\n            fluid:true\n          }\n\n     });\n\n         return <Card.Group items={items} />;\n   }\n  render(){\n     return (\n           <Layout>\n        <div>\n        <h3>众筹列表</h3>\n\n         <Link  href=\"/compaigns/new\">\n         <Button  floated=\"right\" content='创建众筹' icon='add circle' labelPosition='right' primary/>\n         </Link>\n\n          {this.renderCompaign()}\n       </div>\n          </Layout>\n\n\n    );\n\n\n\n    <div>{this.props.compaign[0]}</div>;\n  }\n\n\n}\nexport default Compaindex;\n"]},"metadata":{},"sourceType":"module"}